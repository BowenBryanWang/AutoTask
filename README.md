#操作说明

##前端（Android emulator 端）
依次按照一下步骤执行

- 开启 Action Record 服务：打开-去设置-一路开启-Turn on-Start Now
- 从手机右上方往下滑，打开网络设置，选择"T-mobile"一项（经测试这样最稳定，可惜的是无法上网）
  (原理解释；手机端 Action Record 应用本质作用是抓手机屏幕数据，通过检测像素变化，当有较大程度的像素变化时，遍捕捉截图、无障碍数据 json 等发送请求到后端，二者可以在后端./page/data 下查看)

##后端（PC 端）

- 新建终端，使用 adb 工具依次查看如下步骤：
- 1，adb devices --list 查看虚拟机是否链接
- 2，adb reverse tcp:5002 tcp:5002，让虚拟机的 5002 端口转发到 PC 端的 5002 端口，从而使得虚拟机能够访问 PC 端的 5002 端口
- 3，adb reverse --list 检查端口映射是否成功
- 进入 OOVVCI 仓库，进入相应分支，利用 python main.py 开启 Flask 后端 5002 端口服务，等待前端传送数据。其中--task 参数就是 str 形式的用户任务，--mode 参数含义后面解释。
- （原理解释：后端本质是要接受前端抓到的手机页面，然后对页面数据处理，调用 ChatGPT，得到决策结果，然后返回一条指令让手机自动操作，例如 click）
- 为实现简单，在后端通过线程简单实现了一个状态机，即刚开启后端服务时 STATUS 为死，按下回车后 STATUS = start 激活，激活后，下一次前端传输页面数据时即正式开启任务执行，进入循环。当调用 GPT 时，为防止前端数据干扰，STATUS = running，不接受前端数据，当 GPT 返回结果后，解析成指令返回给前端，此时 STATUS 设置为 start，等待前端一步操作后再次发来数据，继续循环。直到任务完成。此为正常模式。
- 有时因为数据不稳定，因为--mode 可以设置为 preserve 保守模式，即按下回车，STATUS = start，此后的 GPT 调用、返回结果之后便一直设置为 running，需要再次按下回车才会激活成 start，接受下次输入。此为保守模式，这能够保证两次 GPT 调用之间你可以任意操作手机达到你想要的效果，但是缺点是没那么自动化，需要人监控。
